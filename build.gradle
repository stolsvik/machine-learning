apply plugin: 'groovy'

repositories {
    mavenCentral()
}

// The Gradle Wrapper generation task.
task wrapper(type: Wrapper) { gradleVersion = "3.3" }

project.buildDir = 'build-gradle'

sourceSets {
    main {
        groovy {
            srcDirs = ['src/main/java']
        }
    }
    test {
        groovy {
            srcDirs = ['srv/test/java']
        }
    }
}

dependencies {
    compile 'org.slf4j:slf4j-api:1.7.+'            // Logging
    compile 'ch.qos.logback:logback-classic:1.1.+' // --^^--

    compile 'org.codehaus.groovy:groovy-all:2.4.+' // For Groovy

    testCompile 'junit:junit:4.12'
}

task systemInformation << {
    println "\n** Java properties [System.getProperties()], sorted:\n"
    System.properties.sort().each { k, v ->
        println("$k = $v")
    }
    println "\n** Environment [System.getenv()], sorted:\n"
    System.env.sort().each { k, v ->
        println("$k = $v")
    }
    println ''
    println "** Java Version:   " + System.getProperty("java.version")
    println "** Groovy Version: " + GroovySystem.getVersion()
    println "** Gradle Version: " + gradle.gradleVersion
}

